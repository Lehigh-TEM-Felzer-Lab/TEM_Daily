/* *************************************************************
TTEMDAILYREAD.CPP - object to read and write the structure of the
                    output data from files generated by the
                    Terrestrial Ecosystem Model (TEM)

****************************************************************
************************************************************* */

#include<cstdio>

  using std::fscanf;
  using std::FILE;

#include<iostream>

  using std::ios;
  using std::endl;

#include<fstream>

  using std::ifstream;
  using std::ofstream;

#include<iomanip>

  using std::setprecision;

#include<string>

  using std::string;


#include "ttemdailyread.h"

Temdailyread::Temdailyread( void )
{

  temend = 1;
  lagpos = -99;
  curpos = 0;

};


/* *************************************************************
************************************************************* */

int Temdailyread::getdel( FILE* ifile )
{
  char tmpvarname[40];
  char tmpregion[40];

  temend = fscanf( ifile,
                   "%f,%f, %s ,%d,%d,%d,%d,%d,%d,%lf,%d,%ld,%ld,%d,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf, %s",
                   &col,
                   &row,
                   tmpvarname,
                   &icohort,
                   &standage,
                   &potveg,
                   &currentveg,
                   &subtype,
                   &cmnt,
                   &psiplusc,
                   &qlcon,
                   &carea,
                   &subarea,
                   &year,
                   &total,
                   &max,
                   &ave,
                   &min,
                   mon+0,
                   mon+1,
                   mon+2,
                   mon+3,
                   mon+4,
                   mon+5,
                   mon+6,
                   mon+7,
                   mon+8,
                   mon+9,
                   mon+10,
                   mon+11,
                   mon+12,
                   mon+13,
                   mon+14,
                   mon+15,
                   mon+16,
                   mon+17,
                   mon+18,
                   mon+19,
                   mon+20,
                   mon+21,
                   mon+22,
                   mon+23,
                   mon+24,
                   mon+25,
                   mon+26,
                   mon+27,
                   mon+28,
                   mon+29,
                   mon+30,
                   mon+31,
                   mon+32,
                   mon+33,
                   mon+34,
                   mon+35,
                   mon+36,
                   mon+37,
                   mon+38,
                   mon+39,
                   mon+40,
                   mon+41,
                   mon+42,
                   mon+43,
                   mon+44,
                   mon+45,
                   mon+46,
                   mon+47,
                   mon+48,
                   mon+49,
                   mon+50,
                   mon+51,
                   mon+52,
                   mon+53,
                   mon+54,
                   mon+55,
                   mon+56,
                   mon+57,
                   mon+58,
                   mon+59,
                   mon+60,
                   mon+61,
                   mon+62,
                   mon+63,
                   mon+64,
                   mon+65,
                   mon+66,
                   mon+67,
                   mon+68,
                   mon+69,
                   mon+70,
                   mon+71,
                   mon+72,
                   mon+73,
                   mon+74,
                   mon+75,
                   mon+76,
                   mon+77,
                   mon+78,
                   mon+79,
                   mon+80,
                   mon+81,
                   mon+82,
                   mon+83,
                   mon+84,
                   mon+85,
                   mon+86,
                   mon+87,
                   mon+88,
                   mon+89,
                   mon+90,
                   mon+91,
                   mon+92,
                   mon+93,
                   mon+94,
                   mon+95,
                   mon+96,
                   mon+97,
                   mon+98,
                   mon+99,
                   mon+100,
                   mon+101,
                   mon+102,
                   mon+103,
                   mon+104,
                   mon+105,
                   mon+106,
                   mon+107,
                   mon+108,
                   mon+109,
                   mon+110,
                   mon+111,
                   mon+112,
                   mon+113,
                   mon+114,
                   mon+115,
                   mon+116,
                   mon+117,
                   mon+118,
                   mon+119,
                   mon+120,
                   mon+121,
                   mon+122,
                   mon+123,
                   mon+124,
                   mon+125,
                   mon+126,
                   mon+127,
                   mon+128,
                   mon+129,
                   mon+130,
                   mon+131,
                   mon+132,
                   mon+133,
                   mon+134,
                   mon+135,
                   mon+136,
                   mon+137,
                   mon+138,
                   mon+139,
                   mon+140,
                   mon+141,
                   mon+142,
                   mon+143,
                   mon+144,
                   mon+145,
                   mon+146,
                   mon+147,
                   mon+148,
                   mon+149,
                   mon+150,
                   mon+151,
                   mon+152,
                   mon+153,
                   mon+154,
                   mon+155,
                   mon+156,
                   mon+157,
                   mon+158,
                   mon+159,
                   mon+160,
                   mon+161,
                   mon+162,
                   mon+163,
                   mon+164,
                   mon+165,
                   mon+166,
                   mon+167,
                   mon+168,
                   mon+169,
                   mon+170,
                   mon+171,
                   mon+172,
                   mon+173,
                   mon+174,
                   mon+175,
                   mon+176,
                   mon+177,
                   mon+178,
                   mon+179,
                   mon+180,
                   mon+181,
                   mon+182,
                   mon+183,
                   mon+184,
                   mon+185,
                   mon+186,
                   mon+187,
                   mon+188,
                   mon+189,
                   mon+190,
                   mon+191,
                   mon+192,
                   mon+193,
                   mon+194,
                   mon+195,
                   mon+196,
                   mon+197,
                   mon+198,
                   mon+199,
                   mon+200,
                   mon+201,
                   mon+202,
                   mon+203,
                   mon+204,
                   mon+205,
                   mon+206,
                   mon+207,
                   mon+208,
                   mon+209,
                   mon+210,
                   mon+211,
                   mon+212,
                   mon+213,
                   mon+214,
                   mon+215,
                   mon+216,
                   mon+217,
                   mon+218,
                   mon+219,
                   mon+220,
                   mon+221,
                   mon+222,
                   mon+223,
                   mon+224,
                   mon+225,
                   mon+226,
                   mon+227,
                   mon+228,
                   mon+229,
                   mon+230,
                   mon+231,
                   mon+232,
                   mon+233,
                   mon+234,
                   mon+235,
                   mon+236,
                   mon+237,
                   mon+238,
                   mon+239,
                   mon+240,
                   mon+241,
                   mon+242,
                   mon+243,
                   mon+244,
                   mon+245,
                   mon+246,
                   mon+247,
                   mon+248,
                   mon+249,
                   mon+250,
                   mon+251,
                   mon+252,
                   mon+253,
                   mon+254,
                   mon+255,
                   mon+256,
                   mon+257,
                   mon+258,
                   mon+259,
                   mon+260,
                   mon+261,
                   mon+262,
                   mon+263,
                   mon+264,
                   mon+265,
                   mon+266,
                   mon+267,
                   mon+268,
                   mon+269,
                   mon+270,
                   mon+271,
                   mon+272,
                   mon+273,
                   mon+274,
                   mon+275,
                   mon+276,
                   mon+277,
                   mon+278,
                   mon+279,
                   mon+280,
                   mon+281,
                   mon+282,
                   mon+283,
                   mon+284,
                   mon+285,
                   mon+286,
                   mon+287,
                   mon+288,
                   mon+289,
                   mon+290,
                   mon+291,
                   mon+292,
                   mon+293,
                   mon+294,
                   mon+295,
                   mon+296,
                   mon+297,
                   mon+298,
                   mon+299,
                   mon+300,
                   mon+301,
                   mon+302,
                   mon+303,
                   mon+304,
                   mon+305,
                   mon+306,
                   mon+307,
                   mon+308,
                   mon+309,
                   mon+310,
                   mon+311,
                   mon+312,
                   mon+313,
                   mon+314,
                   mon+315,
                   mon+316,
                   mon+317,
                   mon+318,
                   mon+319,
                   mon+320,
                   mon+321,
                   mon+322,
                   mon+323,
                   mon+324,
                   mon+325,
                   mon+326,
                   mon+327,
                   mon+328,
                   mon+329,
                   mon+330,
                   mon+331,
                   mon+332,
                   mon+333,
                   mon+334,
                   mon+335,
                   mon+336,
                   mon+337,
                   mon+338,
                   mon+339,
                   mon+340,
                   mon+341,
                   mon+342,
                   mon+343,
                   mon+344,
                   mon+345,
                   mon+346,
                   mon+347,
                   mon+348,
                   mon+349,
                   mon+350,
                   mon+351,
                   mon+352,
                   mon+353,
                   mon+354,
                   mon+355,
                   mon+356,
                   mon+357,
                   mon+358,
                   mon+359,
                   mon+360,
                   mon+361,
                   mon+362,
                   mon+363,
                   mon+364,
                   tmpregion );

  varname = tmpvarname;
  region = tmpregion;

  return temend;

};

/* *************************************************************
************************************************************* */
/* *************************************************************
************************************************************* */

int Temdailyread::getdel_leap( FILE* ifile )
{
  char tmpvarname[40];
  char tmpregion[40];

  temend = fscanf( ifile,
                   "%f,%f, %s ,%d,%d,%d,%d,%d,%d,%lf,%d,%ld,%ld,%d,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf,%lf, %s",
                   &col,
                   &row,
                   tmpvarname,
                   &icohort,
                   &standage,
                   &potveg,
                   &currentveg,
                   &subtype,
                   &cmnt,
                   &psiplusc,
                   &qlcon,
                   &carea,
                   &subarea,
                   &year,
                   &total,
                   &max,
                   &ave,
                   &min,
                   mon+0,
                   mon+1,
                   mon+2,
                   mon+3,
                   mon+4,
                   mon+5,
                   mon+6,
                   mon+7,
                   mon+8,
                   mon+9,
                   mon+10,
                   mon+11,
                   mon+12,
                   mon+13,
                   mon+14,
                   mon+15,
                   mon+16,
                   mon+17,
                   mon+18,
                   mon+19,
                   mon+20,
                   mon+21,
                   mon+22,
                   mon+23,
                   mon+24,
                   mon+25,
                   mon+26,
                   mon+27,
                   mon+28,
                   mon+29,
                   mon+30,
                   mon+31,
                   mon+32,
                   mon+33,
                   mon+34,
                   mon+35,
                   mon+36,
                   mon+37,
                   mon+38,
                   mon+39,
                   mon+40,
                   mon+41,
                   mon+42,
                   mon+43,
                   mon+44,
                   mon+45,
                   mon+46,
                   mon+47,
                   mon+48,
                   mon+49,
                   mon+50,
                   mon+51,
                   mon+52,
                   mon+53,
                   mon+54,
                   mon+55,
                   mon+56,
                   mon+57,
                   mon+58,
                   mon+59,
                   mon+60,
                   mon+61,
                   mon+62,
                   mon+63,
                   mon+64,
                   mon+65,
                   mon+66,
                   mon+67,
                   mon+68,
                   mon+69,
                   mon+70,
                   mon+71,
                   mon+72,
                   mon+73,
                   mon+74,
                   mon+75,
                   mon+76,
                   mon+77,
                   mon+78,
                   mon+79,
                   mon+80,
                   mon+81,
                   mon+82,
                   mon+83,
                   mon+84,
                   mon+85,
                   mon+86,
                   mon+87,
                   mon+88,
                   mon+89,
                   mon+90,
                   mon+91,
                   mon+92,
                   mon+93,
                   mon+94,
                   mon+95,
                   mon+96,
                   mon+97,
                   mon+98,
                   mon+99,
                   mon+100,
                   mon+101,
                   mon+102,
                   mon+103,
                   mon+104,
                   mon+105,
                   mon+106,
                   mon+107,
                   mon+108,
                   mon+109,
                   mon+110,
                   mon+111,
                   mon+112,
                   mon+113,
                   mon+114,
                   mon+115,
                   mon+116,
                   mon+117,
                   mon+118,
                   mon+119,
                   mon+120,
                   mon+121,
                   mon+122,
                   mon+123,
                   mon+124,
                   mon+125,
                   mon+126,
                   mon+127,
                   mon+128,
                   mon+129,
                   mon+130,
                   mon+131,
                   mon+132,
                   mon+133,
                   mon+134,
                   mon+135,
                   mon+136,
                   mon+137,
                   mon+138,
                   mon+139,
                   mon+140,
                   mon+141,
                   mon+142,
                   mon+143,
                   mon+144,
                   mon+145,
                   mon+146,
                   mon+147,
                   mon+148,
                   mon+149,
                   mon+150,
                   mon+151,
                   mon+152,
                   mon+153,
                   mon+154,
                   mon+155,
                   mon+156,
                   mon+157,
                   mon+158,
                   mon+159,
                   mon+160,
                   mon+161,
                   mon+162,
                   mon+163,
                   mon+164,
                   mon+165,
                   mon+166,
                   mon+167,
                   mon+168,
                   mon+169,
                   mon+170,
                   mon+171,
                   mon+172,
                   mon+173,
                   mon+174,
                   mon+175,
                   mon+176,
                   mon+177,
                   mon+178,
                   mon+179,
                   mon+180,
                   mon+181,
                   mon+182,
                   mon+183,
                   mon+184,
                   mon+185,
                   mon+186,
                   mon+187,
                   mon+188,
                   mon+189,
                   mon+190,
                   mon+191,
                   mon+192,
                   mon+193,
                   mon+194,
                   mon+195,
                   mon+196,
                   mon+197,
                   mon+198,
                   mon+199,
                   mon+200,
                   mon+201,
                   mon+202,
                   mon+203,
                   mon+204,
                   mon+205,
                   mon+206,
                   mon+207,
                   mon+208,
                   mon+209,
                   mon+210,
                   mon+211,
                   mon+212,
                   mon+213,
                   mon+214,
                   mon+215,
                   mon+216,
                   mon+217,
                   mon+218,
                   mon+219,
                   mon+220,
                   mon+221,
                   mon+222,
                   mon+223,
                   mon+224,
                   mon+225,
                   mon+226,
                   mon+227,
                   mon+228,
                   mon+229,
                   mon+230,
                   mon+231,
                   mon+232,
                   mon+233,
                   mon+234,
                   mon+235,
                   mon+236,
                   mon+237,
                   mon+238,
                   mon+239,
                   mon+240,
                   mon+241,
                   mon+242,
                   mon+243,
                   mon+244,
                   mon+245,
                   mon+246,
                   mon+247,
                   mon+248,
                   mon+249,
                   mon+250,
                   mon+251,
                   mon+252,
                   mon+253,
                   mon+254,
                   mon+255,
                   mon+256,
                   mon+257,
                   mon+258,
                   mon+259,
                   mon+260,
                   mon+261,
                   mon+262,
                   mon+263,
                   mon+264,
                   mon+265,
                   mon+266,
                   mon+267,
                   mon+268,
                   mon+269,
                   mon+270,
                   mon+271,
                   mon+272,
                   mon+273,
                   mon+274,
                   mon+275,
                   mon+276,
                   mon+277,
                   mon+278,
                   mon+279,
                   mon+280,
                   mon+281,
                   mon+282,
                   mon+283,
                   mon+284,
                   mon+285,
                   mon+286,
                   mon+287,
                   mon+288,
                   mon+289,
                   mon+290,
                   mon+291,
                   mon+292,
                   mon+293,
                   mon+294,
                   mon+295,
                   mon+296,
                   mon+297,
                   mon+298,
                   mon+299,
                   mon+300,
                   mon+301,
                   mon+302,
                   mon+303,
                   mon+304,
                   mon+305,
                   mon+306,
                   mon+307,
                   mon+308,
                   mon+309,
                   mon+310,
                   mon+311,
                   mon+312,
                   mon+313,
                   mon+314,
                   mon+315,
                   mon+316,
                   mon+317,
                   mon+318,
                   mon+319,
                   mon+320,
                   mon+321,
                   mon+322,
                   mon+323,
                   mon+324,
                   mon+325,
                   mon+326,
                   mon+327,
                   mon+328,
                   mon+329,
                   mon+330,
                   mon+331,
                   mon+332,
                   mon+333,
                   mon+334,
                   mon+335,
                   mon+336,
                   mon+337,
                   mon+338,
                   mon+339,
                   mon+340,
                   mon+341,
                   mon+342,
                   mon+343,
                   mon+344,
                   mon+345,
                   mon+346,
                   mon+347,
                   mon+348,
                   mon+349,
                   mon+350,
                   mon+351,
                   mon+352,
                   mon+353,
                   mon+354,
                   mon+355,
                   mon+356,
                   mon+357,
                   mon+358,
                   mon+359,
                   mon+360,
                   mon+361,
                   mon+362,
                   mon+363,
                   mon+364,
                   mon+365,
                   tmpregion );

  varname = tmpvarname;
  region = tmpregion;

  return temend;

};
